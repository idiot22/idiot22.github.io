(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{885:function(s,t,a){"use strict";a.r(t);var e=a(6),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"vite优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vite优点"}},[s._v("#")]),s._v(" vite优点")]),s._v(" "),a("ol",[a("li",[s._v("加载速度快")])]),s._v(" "),a("ul",[a("li",[s._v("不用打包整个项目")]),s._v(" "),a("li",[s._v("esbuild")])]),s._v(" "),a("h2",{attrs:{id:"vite安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vite安装"}},[s._v("#")]),s._v(" vite安装")]),s._v(" "),a("ol",[a("li",[s._v("用yarn安装依赖比较好")])]),s._v(" "),a("h2",{attrs:{id:"vite插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vite插件"}},[s._v("#")]),s._v(" vite插件")]),s._v(" "),a("h3",{attrs:{id:"vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[s._v("#")]),s._v(" vue")]),s._v(" "),a("ol",[a("li",[s._v("Vue 3 单文件组件支持：@vitejs/plugin-vue")]),s._v(" "),a("li",[s._v("Vue 3 JSX 支持：@vitejs/plugin-vue-jsx")]),s._v(" "),a("li",[s._v("Vue 2.7 支持：vitejs/vite-plugin-vue2")]),s._v(" "),a("li",[s._v("Vue <2.7 的支持：underfin/vite-plugin-vue2")])]),s._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("h3",{attrs:{id:"css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[s._v("#")]),s._v(" css")]),s._v(" "),a("ol",[a("li",[s._v("postcss")])]),s._v(" "),a("ul",[a("li",[s._v("新建"),a("code",[s._v("postcss.config.js")])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@postcss-plugins/console'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("这样postcss的插件就会被自动加载上去\n2. css-modules\n3. css pre-processors")]),s._v(" "),a("h3",{attrs:{id:"alias配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alias配置"}},[s._v("#")]),s._v(" alias配置")]),s._v(" "),a("p",[s._v("直接看pro-app配置好了")]),s._v(" "),a("h3",{attrs:{id:"ts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ts"}},[s._v("#")]),s._v(" ts")]),s._v(" "),a("ol",[a("li",[s._v("tsc --noEmit/vue-tsc --noEmit(vue文件的ts校验)")])]),s._v(" "),a("p",[s._v("vite只编译不做校验，错误的类型也能执行")]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这样就会报错")]),s._v("\ndev"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tsc --noEmit && vite build"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("需要加上"),a("code",[s._v("tsconfig.json")]),s._v("，这样会报出具体错误\n2. isolatedModules")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("tsconfig.json")]),s._v("设置为"),a("code",[s._v("true")])]),s._v(" "),a("ul",[a("li",[s._v("接口导入到文件，又导出会提示错误")]),s._v(" "),a("li",[s._v("declar定义的枚举等，用来做值，会报错")]),s._v(" "),a("li",[s._v("文件没有导入导出报错")])]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("vite/client")])]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vite/client"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"element-plus/global"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("meta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 就有类型提示了\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"静态资源引入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态资源引入"}},[s._v("#")]),s._v(" 静态资源引入")]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" imgUrl "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./test?url'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取文件路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" imgRaw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./test?raw'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取文件内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" imgRaw "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./test?worker'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"eslint-prettier"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-prettier"}},[s._v("#")]),s._v(" eslint && prettier")]),s._v(" "),a("h3",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[s._v("#")]),s._v(" 环境变量")]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 给环境变量添加类型声明")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ImportMetaEnv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VITE_APP_PROXY_URL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VITE_APP_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VITE_NODE_ENV")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);